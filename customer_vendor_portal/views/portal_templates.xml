<odoo>

    <!-- ============================
         VENDOR HOMEPAGE
    =============================== -->
    <template id="vendor_homepage" name="Vendor Portal Homepage">
        <t t-call="portal.layout">
            <div class="container mt-4 mb-4">
                <h2 t-translate="yes">Welcome Vendor</h2>
                <p>
                    <span t-translate="yes">Hello</span>,
                    <t t-esc="vendor_name"/>
                </p>

                <div class="mt-4">
                    <a href="/vendor/pos" class="btn btn-primary me-2">
                        <span t-translate="yes">My Purchase Orders</span>
                    </a>

                    <a href="/vendor/invoices" class="btn btn-secondary">
                        <span t-translate="yes">My Invoices</span>
                    </a>
                </div>
            </div>
        </t>
    </template>


    <!-- ============================
         VENDOR PO LIST
    =============================== -->
    <template id="vendor_po_list" name="Vendor PO List">
        <t t-call="portal.layout">
            <div class="container mt-4 mb-4">

                <h3 t-translate="yes">My Purchase Orders</h3>

                <table class="table table-bordered table-striped mt-3">
                    <thead>
                        <tr>
                            <th t-translate="yes">PO Number</th>
                            <th t-translate="yes">Date</th>
                            <th t-translate="yes">Total</th>
                            <th t-translate="yes">Status</th>
                            <th t-translate="yes">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="pos" t-as="po">
                            <tr>
                                <td><t t-esc="po.name"/></td>
                                <td><t t-esc="po.date_order"/></td>
                                <td><t t-esc="po.amount_total"/></td>
                                <td><t t-esc="po.state"/></td>
                                <td>
                                    <a t-att-href="'/vendor/po/%s' % po.id"
                                       class="btn btn-sm btn-primary">
                                        <span t-translate="yes">View</span>
                                    </a>
                                </td>
                            </tr>
                        </t>
                    </tbody>
                </table>

                <t t-call="portal.pager"/>
            </div>
        </t>
    </template>


    <!-- ============================
         VENDOR PO DETAIL
    =============================== -->
    <template id="vendor_po_detail" name="Vendor PO Detail">
        <t t-call="portal.layout">
            <div class="container mt-4 mb-4">

                <h3>
                    <span t-translate="yes">Purchase Order</span>:
                    <t t-esc="po.name"/>
                </h3>

                <p>
                    <span t-translate="yes">Date:</span>
                    <t t-esc="po.date_order"/>
                </p>

                <p>
                    <span t-translate="yes">Vendor:</span>
                    <t t-esc="po.partner_id.name"/>
                </p>

                <h4 t-translate="yes">Order Lines</h4>

                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th t-translate="yes">Product</th>
                            <th t-translate="yes">Quantity</th>
                            <th t-translate="yes">Unit Price</th>
                            <th t-translate="yes">Subtotal</th>
                        </tr>
                    </thead>
                    <tbody>
                        <t t-foreach="po.order_line" t-as="line">
                            <tr>
                                <td><t t-esc="line.name"/></td>
                                <td><t t-esc="line.product_qty"/></td>
                                <td><t t-esc="line.price_unit"/></td>
                                <td><t t-esc="line.price_subtotal"/></td>
                            </tr>
                        </t>
                    </tbody>
                </table>

                <a t-att-href="'/vendor/po/%s/pdf' % po.id"
                   class="btn btn-primary mt-3">
                    <span t-translate="yes">Download PDF</span>
                </a>
            </div>
        </t>
    </template>


    <!-- ============================
         VENDOR INVOICE LIST
    =============================== -->
    <template id="vendor_invoice_list" name="Vendor Invoice List">
        <t t-call="portal.layout">
            <div class="container mt-4 mb-4">

                <h3 t-translate="yes">My Invoices</h3>

                <a href="/vendor/invoice/upload" class="btn btn-success mb-3">
                    <span t-translate="yes">Upload New Invoice</span>
                </a>

                <t t-if="invoices">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th t-translate="yes">Reference</th>
                                <th t-translate="yes">PO</th>
                                <th t-translate="yes">Amount</th>
                                <th t-translate="yes">Date</th>
                                <th t-translate="yes">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="invoices" t-as="inv">
                                <tr>
                                    <td><t t-esc="inv.name"/></td>
                                    <td><t t-esc="inv.po_id.name"/></td>
                                    <td><t t-esc="inv.amount_total"/></td>
                                    <td><t t-esc="inv.invoice_date"/></td>
                                    <td><t t-esc="inv.state"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>

                    <t t-call="portal.pager"/>
                </t>

                <t t-else="">
                    <div class="alert alert-info">
                        <span t-translate="yes">No invoices found.</span>
                    </div>
                </t>

            </div>
        </t>
    </template>


    <!-- ============================
         VENDOR INVOICE UPLOAD
    =============================== -->
    <template id="vendor_invoice_upload_form" name="Vendor Invoice Upload Form">
        <t t-call="portal.layout">
            <div class="container mt-4 mb-4">

                <h3 t-translate="yes">Upload Invoice</h3>

                <form action="/vendor/invoice/upload" method="POST" enctype="multipart/form-data">
                    <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>

                    <div class="form-group mb-3">
                        <label t-translate="yes">Purchase Order</label>
                        <select class="form-control" name="po_id" required="required">
                            <t t-foreach="purchase_orders" t-as="po">
                                <option t-att-value="po.id">
                                    <t t-esc="po.name"/>
                                </option>
                            </t>
                        </select>
                    </div>

                    <div class="form-group mb-3">
                        <label t-translate="yes">Invoice Date</label>
                        <input type="date" name="invoice_date" class="form-control" required="required"/>
                    </div>

                    <div class="form-group mb-3">
                        <label t-translate="yes">Amount</label>
                        <input type="number" name="amount_total" class="form-control" required="required" step="0.01"/>
                    </div>

                    <div class="form-group mb-3">
                        <label t-translate="yes">Notes</label>
                        <textarea name="notes" class="form-control"></textarea>
                    </div>

                    <div class="form-group mb-3">
                        <label t-translate="yes">Invoice File</label>
                        <input type="file" name="invoice_file" class="form-control" required="required"/>
                    </div>

                    <button type="submit" class="btn btn-primary">
                        <span t-translate="yes">Submit</span>
                    </button>
                </form>

            </div>
        </t>
    </template>


    <!-- ============================
         CUSTOMER STATEMENT PAGE
    =============================== -->
    <template id="customer_statement_page" name="Customer Statement Page">
        <t t-call="portal.layout">
            <div class="container mt-4 mb-4">
                <h3 t-translate="yes">My Financial Statement</h3>

                <t t-if="statement_lines">
                    <table class="table table-bordered mt-3">
                        <thead>
                            <tr>
                                <th t-translate="yes">Date</th>
                                <th t-translate="yes">Description</th>
                                <th t-translate="yes">Debit</th>
                                <th t-translate="yes">Credit</th>
                                <th t-translate="yes">Balance</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="statement_lines" t-as="line">
                                <tr>
                                    <td><t t-esc="line.date"/></td>
                                    <td><t t-esc="line.description"/></td>
                                    <td><t t-esc="line.debit"/></td>
                                    <td><t t-esc="line.credit"/></td>
                                    <td><t t-esc="line.balance"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>
                </t>

                <t t-else="">
                    <div class="alert alert-info mt-3">
                        <span t-translate="yes">No statement found.</span>
                    </div>
                </t>
            </div>
        </t>
    </template>


    <!-- ============================
         CUSTOMER INVOICES
    =============================== -->
    <template id="customer_invoice_list" name="Customer Invoice List">
        <t t-call="portal.layout">
            <div class="container mt-4 mb-4">
                <h3 t-translate="yes">My Invoices</h3>

                <t t-if="invoices">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th t-translate="yes">Number</th>
                                <th t-translate="yes">Date</th>
                                <th t-translate="yes">Due Date</th>
                                <th t-translate="yes">Amount Total</th>
                                <th t-translate="yes">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="invoices" t-as="inv">
                                <tr>
                                    <td><t t-esc="inv.name"/></td>
                                    <td><t t-esc="inv.invoice_date"/></td>
                                    <td><t t-esc="inv.invoice_date_due"/></td>
                                    <td><t t-esc="inv.amount_total"/></td>
                                    <td><t t-esc="inv.payment_state"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>

                </t>

                <t t-else="">
                    <div class="alert alert-warning">
                        <span t-translate="yes">No invoices found.</span>
                    </div>
                </t>

            </div>
        </t>
    </template>


    <!-- ============================
         CUSTOMER SALES ORDERS
    =============================== -->
    <template id="customer_sales_list" name="Customer Sales Orders">
        <t t-call="portal.layout">
            <div class="container mt-4 mb-4">

                <h3 t-translate="yes">My Sales Orders</h3>

                <t t-if="sales_orders">
                    <table class="table table-bordered">
                        <thead>
                            <tr>
                                <th t-translate="yes">Order</th>
                                <th t-translate="yes">Date</th>
                                <th t-translate="yes">Total</th>
                                <th t-translate="yes">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            <t t-foreach="sales_orders" t-as="so">
                                <tr>
                                    <td><t t-esc="so.name"/></td>
                                    <td><t t-esc="so.date_order"/></td>
                                    <td><t t-esc="so.amount_total"/></td>
                                    <td><t t-esc="so.state"/></td>
                                </tr>
                            </t>
                        </tbody>
                    </table>

                </t>

                <t t-else="">
                    <div class="alert alert-info">
                        <span t-translate="yes">No sales orders found.</span>
                    </div>
                </t>

            </div>
        </t>
    </template>

 <!-- ============================
         CUSTOMER PORTAL MENU
    =============================== -->
    <data>
    <template id="customer_portal_menu" inherit_id="portal.portal_my_home" name="Customer Enhanced Menu">

        <xpath expr="//div[contains(@class, 'o_portal_docs')]" position="before">

            <div class="row mt-3">

                <div class="col-md-3 mb-3">
                    <a href="/my/statements" class="btn btn-primary w-100">
                        <span t-translate="yes">My Statement</span>
                    </a>
                </div>

                <div class="col-md-3 mb-3">
                    <a href="/my/customer_invoices" class="btn btn-secondary w-100">
                        <span t-translate="yes">My Invoices</span>
                    </a>
                </div>

                <div class="col-md-3 mb-3">
                    <a href="/my/sales_orders" class="btn btn-info w-100">
                        <span t-translate="yes">My Orders</span>
                    </a>
                </div>

            </div>

        </xpath>

    </template>
</data>

</odoo>
